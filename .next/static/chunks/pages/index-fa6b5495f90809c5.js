(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(9625)}])},9625:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return m}});var i=r(5893),t=r(7294),n=r(9008),a=r.n(n);function l(e){let{onKey:s}=e;return(0,i.jsx)("div",{className:"keyboard",children:"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").map(e=>(0,i.jsx)("div",{className:"key",onClick:()=>s(e),children:e},e))})}let o=e=>e.charCodeAt(0)-65,c=e=>String.fromCharCode(e%26+65);class d{step(){this.position=(this.position+1)%26}atNotch(){return this.notch.split("").some(e=>o(e)===this.position)}forward(e){let s=(e+this.position)%26,r=o(this.wiring[s]);return(r-this.position+26)%26}backward(e){let s=(e+this.position)%26,r=this.wiring.indexOf(c(s));return(r-this.position+26)%26}constructor(e,s=0){this.wiring=e.wiring,this.notch=e.notch,this.position=s%26}}class h{swap(e){return this.map[e]}constructor(e){this.map=Array.from({length:26},(e,s)=>s),e.slice(0,3).forEach(e=>{let[s,r]=e,i=o(s.toUpperCase()),t=o(r.toUpperCase());this.map[i]=t,this.map[t]=i})}}class u{stepRotors(){let e=this.rotors[2],s=this.rotors[1],r=this.rotors[0];s.atNotch()&&(s.step(),r.step()),e.atNotch()&&s.step(),e.step()}encodeChar(e){if(!/[A-Z]/.test(e))return e;this.stepRotors();let s=o(e);s=this.plugboard.swap(s);for(let e=this.rotors.length-1;e>=0;e--)s=this.rotors[e].forward(s);s=o(this.reflector[s]);for(let e=0;e<this.rotors.length;e++)s=this.rotors[e].backward(s);return c(s=this.plugboard.swap(s))}encodeText(e){let s=e.toUpperCase(),r="";for(let e of s)r+=this.encodeChar(e);return r}constructor(e,s,r=[]){var i;this.rotors=e.map((e,r)=>new d(e,null!==(i=s[r])&&void 0!==i?i:0)),this.reflector="YRUHQSLDPXNGOKMIEBFZCWVJAT",this.plugboard=new h(r)}}let p=[{wiring:"EKMFLGDQVZNTOWYHXUSPAIBRCJ",notch:"Q"},{wiring:"AJDKSIRUXBLHWTMCQGZNPYFVOE",notch:"E"},{wiring:"BDFHJLCPRTXVZNYEIWGAKMUSQO",notch:"V"}];function m(){let[e,s]=(0,t.useState)([0,0,0]),[r,n]=(0,t.useState)([0,0,0]),[o,c]=(0,t.useState)([["A","B"],["C","D"],["E","F"]]),[d,h]=(0,t.useState)(""),[m,x]=(0,t.useState)(""),[f,g]=(0,t.useState)(""),j=(0,t.useRef)(null),v=(e,s,r)=>{c(i=>i.map((i,t)=>t===e?0===s?[r.toUpperCase().slice(0,1),i[1]]:[i[0],r.toUpperCase().slice(0,1)]:i))};return(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)(a(),{children:(0,i.jsx)("title",{children:"EnigmaCopilot - Machine Enigma"})}),(0,i.jsx)("h1",{children:"MACHINE ENIGMA"}),(0,i.jsxs)("div",{className:"mainContent",children:[(0,i.jsxs)("div",{className:"leftColumn",children:[(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card-title",children:"Configuration des rotors"}),(0,i.jsx)("div",{className:"label",children:"Position des rotors (0-25)"}),(0,i.jsx)("div",{className:"controls",children:e.map((e,r)=>(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,i.jsxs)("span",{style:{fontSize:11,color:"var(--muted)",minWidth:20},children:["R",r+1]}),(0,i.jsx)("input",{type:"number",min:0,max:25,value:e,onChange:e=>{let i=Math.max(0,Math.min(25,Number(e.target.value||0)));s(e=>e.map((e,s)=>s===r?i:e)),j.current=null}}),(0,i.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:50,height:50,borderRadius:8,background:"linear-gradient(135deg, #0099cc, #00d9ff)",color:"#0a0e27",fontWeight:"bold",fontSize:"1.2rem",minWidth:50},children:String.fromCharCode(65+e)})]},r))})]}),(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card-title",children:"Tableau de connexions (max 3 paires)"}),o.map((e,s)=>(0,i.jsxs)("div",{className:"plugpair",children:[(0,i.jsxs)("span",{style:{fontSize:11,color:"var(--muted)",fontWeight:600},children:["Paire ",s+1]}),(0,i.jsx)("input",{maxLength:1,value:e[0],onChange:e=>v(s,0,e.target.value),placeholder:"A"}),(0,i.jsx)("span",{style:{color:"var(--accent)"},children:"â†”"}),(0,i.jsx)("input",{maxLength:1,value:e[1],onChange:e=>v(s,1,e.target.value),placeholder:"B"})]},s))]}),(0,i.jsxs)("div",{className:"row",children:[(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card-title",children:"Message d entree"}),(0,i.jsx)("textarea",{className:"textarea",readOnly:!0,value:d,placeholder:"Cliquez sur le clavier virtuel pour saisir..."}),(0,i.jsx)("div",{style:{marginTop:12},children:(0,i.jsx)("button",{className:"button",onClick:()=>{h(""),x(""),g(""),j.current=null,n(e)},style:{background:"#ff4757"},children:"EFFACER"})})]}),(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card-title",children:"Message de sortie"}),(0,i.jsx)("textarea",{className:"textarea",readOnly:!0,value:m,placeholder:"Le texte chiffre/dechiffre s affiche ici..."}),(0,i.jsx)("div",{style:{marginTop:12},children:(0,i.jsx)("button",{className:"button",onClick:()=>{let e=o.filter(e=>e[0]&&e[1]&&e[0]!==e[1]),s=new u(p,r,e),i=s.encodeText(m);g(i)},style:{background:"linear-gradient(135deg,var(--accent),#00ffff)"},children:"DECODER"})}),f&&(0,i.jsxs)("div",{style:{marginTop:12,padding:12,background:"rgba(0,217,255,0.05)",borderRadius:8,border:"1px solid rgba(0,217,255,0.2)"},children:[(0,i.jsx)("div",{className:"label",style:{marginBottom:8},children:"Message decode :"}),(0,i.jsx)("div",{style:{fontSize:14,color:"var(--accent)",fontWeight:500,wordBreak:"break-all"},children:f})]})]})]}),(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card-title",children:"Clavier virtuel"}),(0,i.jsx)("div",{style:{textAlign:"center",color:"var(--muted)",fontSize:12,marginBottom:12},children:"Cliquez sur les touches pour saisir du texte"}),(0,i.jsx)(l,{onKey:r=>{if(!j.current){let s=o.filter(e=>e[0]&&e[1]&&e[0]!==e[1]);j.current=new u(p,e,s),n([...e])}let i=j.current.encodeChar(r);h(e=>e+r),x(e=>e+i),s([...j.current.rotors.map(e=>e.position)])}})]})]}),(0,i.jsxs)("div",{className:"rightColumn",children:[(0,i.jsxs)("div",{className:"infoBox",children:[(0,i.jsx)("h3",{children:"A propos d Enigma"}),(0,i.jsx)("p",{children:"Enigma est une machine de chiffrement historique utilisee lors de la Seconde Guerre mondiale."})]}),(0,i.jsxs)("div",{className:"infoBox",children:[(0,i.jsx)("h3",{children:"Comment ca marche"}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Rotors :"})," Trois rotors rotatifs qui changent de position a chaque lettre tapee."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Reflecteur :"})," Renvoie le signal dans les rotors pour un chiffrement reversible."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Tableau :"})," Echange des paires de lettres avant et apres les rotors."]})]}),(0,i.jsxs)("div",{className:"infoBox",children:[(0,i.jsx)("h3",{children:"Utilisation"}),(0,i.jsx)("p",{children:"1. Reglez les positions des rotors (0-25)"}),(0,i.jsx)("p",{children:"2. Configurez le tableau de connexions"}),(0,i.jsx)("p",{children:"3. Cliquez sur le clavier virtuel pour chiffrer"}),(0,i.jsx)("p",{children:"4. Cliquez sur DECODER pour voir le message original"})]}),(0,i.jsxs)("div",{className:"infoBox",children:[(0,i.jsx)("h3",{children:"Propriete"}),(0,i.jsxs)("p",{children:["La machine Enigma a une propriete unique : ",(0,i.jsx)("strong",{children:"chiffrer un message chiffre le dechiffre"}),". C est pour cela que l algorithme est symetrique."]})]}),(0,i.jsxs)("div",{className:"infoBox",children:[(0,i.jsx)("h3",{children:"Conseil"}),(0,i.jsx)("p",{children:"Pour decoder un message, utilisez les memes parametres que le chiffrement. Les rotors doivent etre aux memes positions initiales !"})]})]})]})]})}},9008:function(e,s,r){e.exports=r(2636)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);